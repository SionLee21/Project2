<!DOCTYPE html>
<html>
<head>
  <title>도서 수정</title>
  <link rel="stylesheet" href="my.css">
</head>
<body>
  <h1>도서 수정</h1>
  <form id="editForm" onsubmit="updateBook(event)">
    <!-- Input fields for book information (pre-populate with existing data) -->
    <input type="text" id="bookTitle" placeholder="도서명" value="${book.title}" required><br>
    <input type="text" id="author" placeholder="저자" value="${book.author}" required><br>
    <input type="text" id="publisher" placeholder="출판사" value="${book.publisher}" required><br>
    <input type="number" id="publishYear" placeholder="출판년도" value="${book.year}" required><br>
    <input type="text" id="isbn" placeholder="ISBN" value="${book.isbn}" required disabled><br>
    <button type="submit">수정</button>
  </form>

  <script>
    function updateBook(event) {
      event.preventDefault();  // Prevent the form from submitting

      var title = document.getElementById('bookTitle').value;
      var author = document.getElementById('author').value;
      var publisher = document.getElementById('publisher').value;
      var year = parseInt(document.getElementById('publishYear').value);

      // Update the book details
      var updatedBook = { title: title, author: author, publisher: publisher, year: year, isbn: book.isbn };
      var index = books.findIndex(b => b.isbn === book.isbn);
      books[index] = updatedBook;

      refreshBookList();

      alert('게시물이 수정됐습니다.');
      // Redirect to the index page after editing the book
      window.location.href = 'index.html';
    }
  </script>
</body>
</html>
